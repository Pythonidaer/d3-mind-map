import { COLORS } from '../../../theme/colors';

export const nodes = [
  {
    id: 'root',
    label: 'D3.js\nModular Architecture',
    shape: 'roundRect',
    color: 'root',
    definition: 'Explores D3â€™s post-v4 modular structure, including individual packages, benefits, and best practices.',
  },

  {
    id: 'modular_shift',
    label: 'Modular Shift in v4',
    shape: 'ellipse',
    color: 'nodePositive1',
    parent: 'root',
    definition: 'In v4 (2016), D3 transitioned to a collection of independent npm packages.',
  },
  {
    id: 'why_modular',
    label: 'Why Modular?',
    shape: 'rect',
    color: 'nodePositive2',
    parent: 'modular_shift',
    definition: 'To reduce bundle sizes, improve maintainability, and encourage isolated usage of core features.',
  },
  {
    id: 'import_strategy',
    label: 'Import\nWhat You Need',
    shape: 'rect',
    color: 'nodePositive2',
    parent: 'modular_shift',
    definition: 'Developers can import specific modules (e.g., d3-scale) instead of the entire library.',
  },

  {
    id: 'core_modules',
    label: 'Core Modules',
    shape: 'ellipse',
    color: 'nodePositive1',
    parent: 'root',
    definition: 'Frequently used packages that form the backbone of most D3-based visualizations.',
  },
  {
    id: 'selection_module',
    label: 'd3-selection',
    shape: 'rect',
    color: 'nodePositive2',
    parent: 'core_modules',
    definition: 'Enables DOM selection and manipulation using CSS-like queries.',
  },
  {
    id: 'scale_module',
    label: 'd3-scale',
    shape: 'rect',
    color: 'nodePositive2',
    parent: 'core_modules',
    definition: 'Provides scale functions for mapping data to visual ranges.',
  },
  {
    id: 'shape_module',
    label: 'd3-shape',
    shape: 'rect',
    color: 'nodePositive2',
    parent: 'core_modules',
    definition: 'Generates SVG shapes like arcs, areas, and lines.',
  },
  {
    id: 'array_module',
    label: 'd3-array',
    shape: 'rect',
    color: 'nodePositive2',
    parent: 'core_modules',
    definition: 'Includes array and statistical utilities for min, max, extent, median, etc.',
  },
  {
    id: 'transition_module',
    label: 'd3-transition',
    shape: 'rect',
    color: 'nodePositive2',
    parent: 'core_modules',
    definition: 'Handles smooth transitions and animation timing.',
  },
  {
    id: 'geo_module',
    label: 'd3-geo',
    shape: 'rect',
    color: 'nodePositive2',
    parent: 'core_modules',
    definition: 'Provides geographic projections and path generators for maps.',
  },

  {
    id: 'benefits',
    label: 'Benefits of Modularity',
    shape: 'ellipse',
    color: 'nodePositive1',
    parent: 'root',
    definition: 'Reasons why modular architecture improves developer experience and performance.',
  },
  {
    id: 'smaller_bundles',
    label: 'Smaller\nBundle Sizes',
    shape: 'rect',
    color: 'nodePositive2',
    parent: 'benefits',
    definition: 'Avoid importing unused features, resulting in leaner builds.',
  },
  {
    id: 'clear_dependencies',
    label: 'Clearer\nDependencies',
    shape: 'rect',
    color: 'nodePositive2',
    parent: 'benefits',
    definition: 'Each module has a clear purpose and is maintained independently.',
  },
  {
    id: 'tree_shaking',
    label: 'Tree-Shaking\nSupport',
    shape: 'rect',
    color: 'nodePositive2',
    parent: 'benefits',
    definition: 'Allows modern bundlers like Webpack or Vite to eliminate unused code.',
  },

  {
    id: 'anti_patterns',
    label: 'Anti-Patterns',
    shape: 'hexagon',
    color: 'nodeNegative1',
    parent: 'root',
    definition: 'Common mistakes when working with D3 modules.',
  },
  {
    id: 'import_whole_d3',
    label: 'Importing All\nof D3',
    shape: 'rect',
    color: 'nodeNegative2',
    parent: 'anti_patterns',
    definition: 'Importing the entire d3 package nullifies the benefits of modularization.',
  },
  {
    id: 'version_mismatch',
    label: 'Version\nMismatch',
    shape: 'rect',
    color: 'nodeNegative2',
    parent: 'anti_patterns',
    definition: 'Using incompatible versions of D3 packages may cause unexpected bugs.',
  },
];

export const links = [
  { source: 'root', target: 'modular_shift' },
  { source: 'modular_shift', target: 'why_modular' },
  { source: 'modular_shift', target: 'import_strategy' },

  { source: 'root', target: 'core_modules' },
  { source: 'core_modules', target: 'selection_module' },
  { source: 'core_modules', target: 'scale_module' },
  { source: 'core_modules', target: 'shape_module' },
  { source: 'core_modules', target: 'array_module' },
  { source: 'core_modules', target: 'transition_module' },
  { source: 'core_modules', target: 'geo_module' },

  { source: 'root', target: 'benefits' },
  { source: 'benefits', target: 'smaller_bundles' },
  { source: 'benefits', target: 'clear_dependencies' },
  { source: 'benefits', target: 'tree_shaking' },

  { source: 'root', target: 'anti_patterns' },
  { source: 'anti_patterns', target: 'import_whole_d3' },
  { source: 'anti_patterns', target: 'version_mismatch' },
];
